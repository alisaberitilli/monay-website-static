# ============================================
# Circle Integration Environment Variables
# ============================================
# Copy this file to .env and fill in your values

# Circle API Configuration
# Get these from: https://app.circle.com/developer
CIRCLE_API_KEY=YOUR_CIRCLE_API_KEY_HERE
CIRCLE_API_URL=https://api-sandbox.circle.com  # Use https://api.circle.com for production
CIRCLE_ENVIRONMENT=sandbox  # Options: sandbox, production

# Circle Entity Configuration
CIRCLE_ENTITY_ID=YOUR_ENTITY_ID  # Your Circle entity ID
CIRCLE_WALLET_SET_ID=YOUR_WALLET_SET_ID  # Default wallet set for consumer wallets

# Circle Webhook Configuration
CIRCLE_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE  # For signature verification
CIRCLE_WEBHOOK_ENDPOINT=https://your-domain.com/api/circle-wallets/webhook

# Circle Mock Mode (for development/testing)
CIRCLE_USE_MOCK=false  # Set to true to use mock mode without real API calls
CIRCLE_MOCK_WALLET_ID=mock-wallet-123
CIRCLE_MOCK_ADDRESS=0xMOCK1234567890

# Bridge Transfer Configuration
BRIDGE_AUTO_ENABLED=false  # Enable automatic bridge transfers
BRIDGE_THRESHOLD_USD=1000  # Auto-bridge when balance exceeds this amount
BRIDGE_MIN_AMOUNT=10  # Minimum amount for bridge transfers
BRIDGE_MAX_AMOUNT=10000  # Maximum amount for single bridge transfer

# Smart Routing Configuration
ROUTING_PREFER_CIRCLE=true  # Prefer Circle for eligible transactions
ROUTING_INTERNATIONAL_BONUS=20  # Bonus points for Circle on international payments
ROUTING_MIN_CIRCLE_AMOUNT=1  # Minimum amount to use Circle
ROUTING_MAX_MONAY_AMOUNT=50000  # Maximum amount for Monay wallet

# Performance Configuration
CIRCLE_API_TIMEOUT=30000  # API timeout in milliseconds
CIRCLE_API_RETRY_COUNT=3  # Number of retries for failed API calls
CIRCLE_API_RETRY_DELAY=1000  # Delay between retries in milliseconds

# Rate Limiting
CIRCLE_RATE_LIMIT_REQUESTS=100  # Requests per minute
CIRCLE_RATE_LIMIT_WINDOW=60000  # Rate limit window in milliseconds

# Monitoring & Logging
CIRCLE_LOG_LEVEL=info  # Options: debug, info, warn, error
CIRCLE_ENABLE_METRICS=true  # Enable metrics collection
CIRCLE_METRICS_PREFIX=circle_  # Prefix for metrics

# Security Settings
CIRCLE_ENCRYPTION_KEY=YOUR_32_CHAR_ENCRYPTION_KEY_HERE  # For encrypting sensitive data
CIRCLE_ENABLE_IP_WHITELIST=false  # Enable IP whitelisting
CIRCLE_WHITELISTED_IPS=  # Comma-separated list of whitelisted IPs

# Feature Flags
FEATURE_CIRCLE_DEPOSITS=true  # Enable USDC deposits
FEATURE_CIRCLE_WITHDRAWALS=true  # Enable USDC withdrawals
FEATURE_CIRCLE_TRANSFERS=true  # Enable USDC transfers
FEATURE_BRIDGE_TRANSFERS=true  # Enable bridge transfers
FEATURE_SMART_ROUTING=true  # Enable smart payment routing
FEATURE_AUTO_BRIDGE=false  # Enable automatic bridging

# Testing Configuration (Development Only)
TEST_USER_ID=test-user-development
TEST_MONAY_WALLET_BALANCE=5000
TEST_CIRCLE_WALLET_BALANCE=2000

# Database Configuration (if different from main app)
# CIRCLE_DB_HOST=localhost
# CIRCLE_DB_PORT=5432
# CIRCLE_DB_NAME=monay
# CIRCLE_DB_USER=monay_user
# CIRCLE_DB_PASSWORD=your_password

# Redis Configuration (for caching)
# CIRCLE_REDIS_HOST=localhost
# CIRCLE_REDIS_PORT=6379
# CIRCLE_REDIS_PASSWORD=your_redis_password

# ============================================
# Required Environment Variables Summary
# ============================================
# 1. CIRCLE_API_KEY - Required for all Circle operations
# 2. CIRCLE_WEBHOOK_SECRET - Required for webhook verification
# 3. CIRCLE_ENTITY_ID - Required for wallet creation
# 4. CIRCLE_ENCRYPTION_KEY - Required for data encryption

# ============================================
# Optional Features (can be disabled)
# ============================================
# - Set CIRCLE_USE_MOCK=true for development without API access
# - Set BRIDGE_AUTO_ENABLED=false to disable automatic bridging
# - Adjust FEATURE_* flags to enable/disable specific features

# ============================================
# Security Notes
# ============================================
# - Never commit this file with real values to version control
# - Use strong, unique values for secrets and keys
# - Rotate API keys regularly
# - Enable IP whitelisting in production
# - Use encrypted secrets management in production (AWS Secrets Manager, etc.)

# ============================================
# Testing with Mock Mode
# ============================================
# To test without Circle API access:
# 1. Set CIRCLE_USE_MOCK=true
# 2. All operations will return mock successful responses
# 3. No real transactions will be processed
# 4. Perfect for development and testing

# ============================================
# Production Checklist
# ============================================
# [ ] Change CIRCLE_API_URL to production URL
# [ ] Set CIRCLE_ENVIRONMENT=production
# [ ] Use production API keys
# [ ] Enable IP whitelisting
# [ ] Set up proper webhook endpoint
# [ ] Configure rate limiting appropriately
# [ ] Enable monitoring and metrics
# [ ] Set up alerts for failures
# [ ] Implement key rotation schedule